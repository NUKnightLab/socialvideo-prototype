<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Codename Delaware</title>
  </head>
  <body>
    <h1>Codename Delaware</h1>
    <!-- All of the Node.js APIs are available in this renderer process. -->
    <!-- We are using Node.js <script>document.write(process.versions.node)</script>,
    Chromium <script>document.write(process.versions.chrome)</script>,
    and Electron <script>document.write(process.versions.electron)</script>.
    -->
    <div id="app">
      Loading...
    </div>
    <script type="text/javascript" src="./www/paragraphSplicer.js"></script>
    <script type="text/javascript" src="./www/videoMaker.js"></script>
    <div id="mount"></div>
    <div id="processing"></div>
  </body>

  <script>
    // You can also require other files to run in this process
    // install babel hooks in the main process

    var bundlePath = './bundle/renderer.bundle.js';

    if(typeof process !== 'undefined' && process.env.NODE_ENV === 'DEV') {
     const port = process.env.PORT || 8080;
      bundlePath = `http://127.0.0.1:${port}/bundle/renderer.bundle.js`;
      var bundleScriptEl = document.createElement('script');
      bundleScriptEl.src = bundlePath;
      bundleScriptEl.async = true;
      document.currentScript.parentNode.insertBefore(bundleScriptEl, document.currentScript);
    } else {
      require(bundlePath);
    }
  </script>
  <script>
  if (process && process.env.NODE_ENV === 'DEV') {
    document.title += ' (DEV MODE)';
  }
  </script>
</html>
